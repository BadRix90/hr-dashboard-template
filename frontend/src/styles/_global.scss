// ============================================
// IMPORTS
// ============================================
@use 'variables' as *;
@use 'mixins' as *;

// ============================================
// RESET & BASE
// ============================================
*, *::before, *::after {
  box-sizing: border-box;
  margin: 0;
  padding: 0;
}

html {
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  text-rendering: optimizeLegibility;
  font-size: 16px;
}

body {
  font-family: $font-family-base;
  font-size: $font-size-base;
  font-weight: $font-weight-normal;
  line-height: $line-height-normal;
  color: var(--color-text);
  background: var(--color-bg);
  min-height: 100vh;
}

// ============================================
// TYPOGRAPHY BASE
// ============================================
h1, h2, h3, h4, h5, h6 {
  margin: 0;
  font-weight: $font-weight-semibold;
  line-height: $line-height-tight;
  color: var(--color-text);
}

h1 { @include heading-xl; }
h2 { @include heading-lg; }
h3 { @include heading-md; }
h4 { @include heading-sm; }

p {
  margin: 0;
}

a {
  color: var(--color-primary);
  text-decoration: none;
  transition: color $transition-fast;

  &:hover {
    color: var(--color-primary-hover);
  }
}

strong, b {
  font-weight: $font-weight-semibold;
}

// ============================================
// BUTTONS & FORMS RESET
// ============================================
button, input, select, textarea {
  font-family: inherit;
  font-size: inherit;
  line-height: inherit;
}

button {
  background: none;
  border: none;
  padding: 0;
  cursor: pointer;
}

// ============================================
// LAYOUT UTILITIES
// ============================================
.container {
  @include container;
}

.section {
  padding: $spacing-12 0;

  @include mobile-only {
    padding: $spacing-8 0;
  }
}

.card {
  @include card-base;
  padding: $spacing-6;

  @include mobile-only {
    padding: $spacing-4;
  }
}

.card-hover {
  @include card-hover;
  padding: $spacing-6;

  @include mobile-only {
    padding: $spacing-4;
  }
}

// ============================================
// FLEX UTILITIES
// ============================================
.flex {
  display: flex;
}

.flex-center {
  @include flex-center;
}

.flex-between {
  @include flex-between;
}

.flex-column {
  @include flex-column;
}

.gap-2 { gap: $spacing-2; }
.gap-3 { gap: $spacing-3; }
.gap-4 { gap: $spacing-4; }
.gap-6 { gap: $spacing-6; }
.gap-8 { gap: $spacing-8; }

// ============================================
// SPACING UTILITIES
// ============================================
.mt-2 { margin-top: $spacing-2; }
.mt-4 { margin-top: $spacing-4; }
.mt-6 { margin-top: $spacing-6; }
.mt-8 { margin-top: $spacing-8; }
.mt-12 { margin-top: $spacing-12; }

.mb-2 { margin-bottom: $spacing-2; }
.mb-4 { margin-bottom: $spacing-4; }
.mb-6 { margin-bottom: $spacing-6; }
.mb-8 { margin-bottom: $spacing-8; }
.mb-12 { margin-bottom: $spacing-12; }

.pt-4 { padding-top: $spacing-4; }
.pt-8 { padding-top: $spacing-8; }
.pb-4 { padding-bottom: $spacing-4; }
.pb-8 { padding-bottom: $spacing-8; }

.p-4 { padding: $spacing-4; }
.p-6 { padding: $spacing-6; }
.p-8 { padding: $spacing-8; }

// ============================================
// TEXT UTILITIES
// ============================================
.text-center { text-align: center; }
.text-right { text-align: right; }
.text-left { text-align: left; }

.text-muted { color: var(--color-text-muted); }
.text-secondary { color: var(--color-text-secondary); }
.text-primary { color: var(--color-primary); }
.text-success { color: var(--color-success); }
.text-error { color: var(--color-error); }
.text-warning { color: var(--color-warning); }

.text-sm { @include body-sm; }
.text-base { @include body-base; }
.text-lg { @include body-lg; }

.font-medium { font-weight: $font-weight-medium; }
.font-semibold { font-weight: $font-weight-semibold; }
.font-bold { font-weight: $font-weight-bold; }

.truncate { @include truncate; }

// ============================================
// VISIBILITY UTILITIES
// ============================================
.sr-only {
  @include visually-hidden;
}

@include mobile-only {
  .hide-mobile { display: none !important; }
}

@include tablet-up {
  .show-mobile { display: none !important; }
}

// ============================================
// STATUS BADGES
// ============================================
.badge {
  display: inline-flex;
  align-items: center;
  gap: $spacing-1;
  padding: $spacing-1 $spacing-3;
  font-size: $font-size-sm;
  font-weight: $font-weight-medium;
  border-radius: $radius-full;
  white-space: nowrap;
}

.badge-primary {
  background: var(--color-primary-light);
  color: var(--color-primary);
}

.badge-success {
  background: var(--color-success-light);
  color: var(--color-success);
}

.badge-warning {
  background: var(--color-warning-light);
  color: var(--color-warning);
}

.badge-error {
  background: var(--color-error-light);
  color: var(--color-error);
}

.badge-gray {
  background: var(--color-gray-100);
  color: var(--color-gray-700);
}

// ============================================
// BUTTON CLASSES
// ============================================
.btn-primary {
  @include button-primary;
}

.btn-secondary {
  @include button-secondary;
}

.btn-outline {
  @include button-outline;
}

.btn-danger {
  @include button-danger;
}

.btn-ghost {
  @include button-ghost;
}

// ============================================
// LOADING STATE
// ============================================
.loading {
  @include flex-center;
  padding: $spacing-8;
  color: var(--color-text-muted);
}

.spinner {
  @include loading-spinner;
}

.spinner-lg {
  @include loading-spinner;
  width: 32px;
  height: 32px;
  border-width: 3px;
}

.spinner-sm {
  @include loading-spinner;
  width: 16px;
  height: 16px;
  border-width: 2px;
}

// ============================================
// EMPTY STATE
// ============================================
.empty-state {
  @include flex-column-center;
  padding: $spacing-12 $spacing-6;
  text-align: center;
  color: var(--color-text-muted);

  @include mobile-only {
    padding: $spacing-8 $spacing-4;
  }
}

.empty-state-icon {
  width: 48px;
  height: 48px;
  margin-bottom: $spacing-4;
  color: var(--color-gray-400);
}

.empty-state-title {
  @include heading-sm;
  color: var(--color-text-secondary);
  margin-bottom: $spacing-2;
}

.empty-state-text {
  @include body-base;
  max-width: 400px;
}

// ============================================
// DIVIDER
// ============================================
.divider {
  height: 1px;
  background: var(--color-border);
  margin: $spacing-6 0;
}

.divider-vertical {
  width: 1px;
  height: 100%;
  background: var(--color-border);
  margin: 0 $spacing-4;
}

// ============================================
// AVATAR
// ============================================
.avatar {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  width: 40px;
  height: 40px;
  border-radius: $radius-full;
  background: var(--color-primary-light);
  color: var(--color-primary);
  font-weight: $font-weight-semibold;
  font-size: $font-size-base;
  overflow: hidden;
}

.avatar-sm {
  width: 32px;
  height: 32px;
  font-size: $font-size-sm;
}

.avatar-lg {
  width: 48px;
  height: 48px;
  font-size: $font-size-lg;
}

// ============================================
// FORM LABELS
// ============================================
.form-label {
  @include label-base;
}

.form-group {
  margin-bottom: $spacing-4;
}

.form-error {
  @include body-sm;
  color: var(--color-error);
  margin-top: $spacing-2;
}

.form-helper {
  @include body-sm;
  color: var(--color-text-muted);
  margin-top: $spacing-2;
}

// ============================================
// SCROLLBAR STYLING
// ============================================
* {
  @include scrollbar-custom;
}

// ============================================
// BACKDROP (for modals/drawers)
// ============================================
.backdrop {
  position: fixed;
  inset: 0;
  background: rgba(0, 0, 0, 0.5);
  z-index: $z-modal-backdrop;
  animation: fadeIn $transition-fast;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

// ============================================
// FOCUS VISIBLE (Accessibility)
// ============================================
*:focus-visible {
  outline: 2px solid var(--color-primary);
  outline-offset: 2px;
}

button:focus-visible,
a:focus-visible {
  outline-offset: 4px;
}